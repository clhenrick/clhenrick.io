---
title: "This site is under construction!"
date: 2024-07-14
draft: true
teaser: "Notes on migrating this website from Jekyll to Eleventy, as well as a bit of (re)design in the open."
tags:
  - Eleventy
  - A11Y
  - Accessibility
  - JavaScript
---

Earlier this year I began migrating this website, clhenrick.io, from [Jekyll](#) to [Eleventy (11ty)](#). There were a bunch of underlying factors that pushed me to do the migration, which I'll discuss in this post. Unlike other posts I've previously written, I won't really dive into the technical aspects of the process (okay there will obviously still be some technical details), this will be more about the "why".

It's hard to say what the biggest driving force in motivating me to say "it's time for a refresh", but here are a few main ones. As I've grown in my role as a front-end web developer and design engineer, my understanding and appreciation of accessibility has become more paramount in how I approach creating things for the web. At some point I realized, "hey my own damn website has some barriers to being accessible by people with disabilities", which didn't make me feel good. Actually, what made me feel worse was knowing that I knew how to solve the majority of these issues such as color contrast, lack of alt text, lack of supporting robust keyboard navigation, etc. but allowing them to stand. If I want to position myself as a design engineer with a focus on web accessibility, then my own fucking website sure as hell should be accessible.

As a result I'm happy to say that this re-write and redesign is a lot more accessible and inclusive then my previous site was. It's not perfect by any means, but I've done my best to conform to the Web Content Accessibility Guidelines (WCAG) version 2.2, level AA. For example, the site now has a skip link, does not fail color contrast for text or UI elements, has alt text for images, uses semantic HTML throughout, and reaches for ARIA only when it is appropriate to enhance the experience for users of assistive technologies. A related usability enhancement includes supporting color themes for both light and dark modes.

Related to making this site more accessible is that I'm trying my best to utilize "progressive enhancement" strategies, such as making sure the site works without JavaScript. Unlike websites and applications built largely using JS frameworks such as React, there is no part of the site I consider critical that requires JavaScript in order for it to function. The [contact form](/contact/) and [portfolio](/work/) pages are examples of this. Both pages use JavaScript to "enhance" their functionality, but if the user has JavaScript disabled or if the JavaScript fails to load for some reason the pages will still work.

Granted that instead of re-writing much of the code that generates this site AND using an entire different build tool, I very well could have stuck with using Jekyll and refactored the existing code. What kept me from doing this was for one I had grown tired of remembering how to do certain things in Ruby as well as re-reading the Jekyll docs when I wanted to add some new functionality to the site. Okay, okay, you're right, Ruby is pretty chill, it's similar to Python (which I'm more familiar with), and managing "Ruby Gems" is not rocket science. Jekyll has also been around a lot longer than Eleventy so it has robust documentation and it works pretty damn well. The thing is, I spend my day to day in JavaScript land and don't write any Ruby on the side. At all. I have nothing against Ruby, it's just not something I currently aspire to use or have a need to use. Maybe one day that will change, but it's clearly not happening anytime soon. The fact is I'm a lot more comfortable using modern JavaScript and am very familiar with its ecosystem and environment (Browsers, NodeJS, NPM, Yarn, ES6+, etc.), so it naturally feels easier for me to work in. My thinking was that if I'm more comfortable with the tooling, then I'll probably be more motivated to work on my website.

As for not sticking with the existing site's code, well that kind of relates to not wanting to stick with Ruby but there were some additional motivators. Long story short, I originally forked a community Jekyll theme called ["Feeling Responsive"](#) and modified it slightly to my liking to personalize it a bit, but I never got to know the code very well. At the time my immediate needs were strictly practical: to have an online presence that showcased my work that would help me land a (hopefully good) job. I didn't have the bandwidth or motivation for learning all of the ins and outs of Jekyll or how a very feature rich theme created by someone in the Jekyll community worked inside and out. Fast forward ten years later: when I looked at the code and the way things were structured, I felt that there was a lot I could do without and a lot I could do better with my skill set and knowledge that I had grown and accumulated since first forking the "Feeling Responsive" Jekyll theme code. I didn't need a CSS framework (Foundation). I didn't need a CSS pre-processor (Sass). I didn't need JQuery. I didn't need a custom video player JavaScript library. The masonry layout for my portfolio page was cool but felt kinda gimmicky (and masonry still requires using JavaScript). With both with a visitor's data plan and our warming planet in mind, I could drop a lot of the extra stuff to make the site load a lot faster and consume less resources. A lot of this is result of the web maturing: there is now robust support for CSS Grid and Flexbox which alleviates the need for some type of grid system that CSS frameworks traditionally provided. CSS custom properties mean you can use variables in CSS without having to reach for a CSS pre-processor. JQuery isn't necessary for a simple website or blog, and all the major browsers have largely compatible APIs and support ES6. All that being said, I was able to port existing code and refactor things when relevant, such as some of the [Liquid](#) markup (although I ended up using [Nunjucks](#) instead of Liquid for HTML templating, perhaps that part was a mistake?).

Starting over meant I could think about accessibility at the design phase before and while building the site, rather than as a reactionary action item to check off at some point after the site had already been built and accumulated tech debt. I knew I could start with structuring the HTML in a sensible way to follow best practices in terms of semantics, landmarks, and headings. I could start with a color palette that would meet level AA or AAA color contrast requirements for WCAG 2.2. I made sure focus indicators were present and accessible on all interactive and focusable UI elements. I deliberately decided against things that might cause accessibility barriers such as a sticky navigation or fluid type. I would respect a user's "prefers reduced motion" setting and not animate or transition things if it was set. "Keep it simple stupid" helps out here more than you think; probably the most complex thing on my site is the main site navigation that is shown on "wider than mobile device" viewports (unsurprisingly it still has some accessibility kinks to work out!).

Reaching for Eleventy felt like the sensible thing to do. I had already used it in a very light capacity for creating the [Color Legend Element's documentation](#) (only a single web page) and had been interested in using it for a multi-page site for some time. Other appealing aspects of Eleventy were continuing to write posts using Markdown with front-matter, leveraging the concept of the ["data cascade"](#), and having access to a wide range of HTML templating options. The [Eleventy Image Plugin](#) was appealing for reducing the amount of data transferred over the wire for the close to 300 images on my site. Pages are still server side rendered, although now all CSS and JavaScripts are inlined in production to avoid extra network requests.

Overall I've found Eleventy to be almost like a low level static site generator API, for better or worse. The good part is that you can really get into the nitty gritty of customizing how your site is structured and built. However, this also means you don't get everything out of the box for free as you might with other static site generators like Jekyll, so a lot of Eleventy's functionality requires editing its config file. Most of the time this is relatively straight forward, but sometimes it takes some trial and error. Another downside I've found is that the docs feel incomplete at times, so I had to go digging across the internet to figure certain things out. I still am not quite sure why when rendering pages dynamically using data they don't show up in `collections.all`. Thankfully Eleventy has been around for some years now and a lot of people have written about it, including my co-worker [Aleksandr](#), which has been really helpful when it comes to getting stuck. It seems to have a pretty enthusiastic and solid community supporting it, not to mention a [stellar core maintainer](#) who has a lot of sensible opinions about how the web should work.

Doing this migration and redesign while working a full time job as a front-end / design engineer wasn't easy. Trying to squeeze in ten, twenty, thirty or sixty minutes here or there through out the week is a very different way of doing web design and development when compared to doing it six to eight hours a day Monday through Friday. In fact this work is by no means done! I'm launching the new version of this site from a place I'm deeming "not just good, but good enough" rather than letting the perfectionist in me wait until every last little pixel is the precise way I want it. Henceforth I'll be "designing in the open" to tie up some loose ends over the next few months, at the very least if not indefinitely. I'm not entirely happy with the colors or look of the light theme, probably because I'm more partial to dark mode / themes when I'm at a computer. There are also some minor accessibility issues to tie up. I'm deliberately trying to let go of perfectionism and adhere to the highly dynamic nature of the web where nothing will look exactly the same on everyone's device. Not to mention users who have a vision impairment or other disability that may not care what the site looks like at all, only that they can access its content in the way that is appropriate to them.

One deliberate decision that relates to this was to throw out using Google Fonts and instead use "system fonts." That is, rather than load one or more font families and their variants from Google's servers, look for a font that is native to a user's device which fits the bill for the typeface I'm going for. (Shout out to the folks who created the website [Modern Font Stack](https://modernfontstacks.com) for making this easy to do!) One advantage of this strategy is that there's no "flash of un-styled text" or layout shift when a font is downloaded after the page has first rendered. Nor are extra resources being used to download one or more fonts and render them on the page. Instead the page renders with the first desirable font that's found on the user's device ("good enough"). It's a trade off for sure, but it's one I think is worth it in terms of saving resources and giving into how malleable and dynamic the web is, rather than trying to force a pixel perfect image of a website onto everyone who visits it, no matter their situation (e.g. device, internet connection, data plan, etc.)

- could have stuck with Liquid templates
- started with the Eleventy Base Blog, but didn't just clone and modify it, sort of looked at each feature one at a time to understand how things worked in Eleventy land.

- un-enthusiasm and difficulty of remembering how things work in Ruby
- I spend my day to day using JavaScript and its ecosystem so 11ty seemed like a good fit
- wanting my personal site to be fun to work on and try things out with again
- wanting it to reflect the type of work I enjoy and want to do more of (design engineering, accessibility engineering)
- code bloat of previous Jekyll theme: Foundation CSS, JQuery, tons of config, etc.
- redesign goal of sliming it all down in the site & resources (no CSS framework, no JS framework),
- using 11ty Image plugin to generate responsive images, using the WebP image format
- using only system fonts: no FOUT or extra downloading of fancy fonts
- using progressive enhancement: contact and search page forms, portfolio landing page, etc.
- poor accessibility of previous site was a major motivator
- learning more about inclusive design and a11y in the past 5 years of my career and having it become more important to me
- challenge of doing this while working full time means its not perfect and that's okay!
- will continue making updates to it: fixing and improving accessibility, tweaking the colors (especially on light theme), typography, etc.
- shout outs: Aleksandr, Adrian, Sara, etc.
